(this["webpackJsonpmini-app"]=this["webpackJsonpmini-app"]||[]).push([[0],{331:function(e,a,t){},340:function(e,a,t){"use strict";t.r(a);t(226),t(252),t(254),t(255),t(257),t(258),t(259),t(260),t(261),t(262),t(263),t(264),t(266),t(267),t(268),t(269),t(270),t(271),t(272),t(273),t(274),t(275),t(277),t(278),t(279),t(280),t(281),t(282),t(283),t(284),t(285),t(286),t(287),t(288),t(289),t(290),t(291),t(292),t(293),t(294);var n=t(0),r=t.n(n),l=t(59),c=t.n(l),s=t(114),i=t.n(s),m=t(32),o=t(56),u=t(55),d=(t(302),t(57)),v=t(78),p=t.n(v),f=t(115),E=t(121),g=t(118),h=t(119);(function(){function e(){Object(g.a)(this,e)}return Object(h.a)(e,null,[{key:"formatNumber",value:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ";e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var r=isFinite(+e)?+e:0,l=isFinite(+a)?Math.abs(a):0,c="undefined"===typeof n?",":n,s="undefined"===typeof t?".":t,i="",m=function(e,a){var t=Math.pow(10,a);return""+(Math.round(e*t)/t).toFixed(a)};return(i=(l?m(r,l):""+Math.round(r)).split("."))[0].length>3&&(i[0]=i[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,c)),(i[1]||"").length<l&&(i[1]=i[1]||"",i[1]+=new Array(l-i[1].length+1).join("0")),i.join(s)}},{key:"saveStaticVar",value:function(e,a){this.staticVar[e]=a}},{key:"getStaticVar",value:function(e){return this.staticVar[e]}},{key:"isNumeric",value:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},{key:"openTab",value:function(e){var a=window.document.createElement("a");a.target="_blank",a.href=e;var t=window.document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(t)}},{key:"cloneObj",value:function(e){var a;if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return(a=new Date).setTime(e.getTime()),a;if(e instanceof Array){a=[];for(var t=0,n=e.length;t<n;t++)a[t]=this.cloneObj(e[t]);return a}if(e instanceof Object){for(var r in a={},e)e.hasOwnProperty(r)&&(a[r]=this.cloneObj(e[r]));return a}throw new Error("Unable to copy obj! Its type isn't supported.")}},{key:"in_array",value:function(e,a){return-1!==e.indexOf(a)}},{key:"isEmptyObject",value:function(e){for(var a in e)if(e.hasOwnProperty(a))return!1;return!0}},{key:"timeConvert",value:function(e){var a=new Date(e),t="0"+a.getMinutes(),n="0"+(a.getMonth()+1),r=a.getFullYear()%100;return a.getDate()+"."+n.substr(-2)+"."+r+" "+a.getHours().toString()+":"+t.substr(-2).toString()}},{key:"timeConvertDays",value:function(e){var a=new Date(e),t="0"+(a.getMonth()+1),n=a.getFullYear()%100;return a.getDate()+"."+t.substr(-2)+"."+n}},{key:"timeConvertHMS",value:function(e){var a=new Date(e),t="0"+a.getMinutes(),n="0"+a.getSeconds();return a.getHours().toString()+":"+t.substr(-2).toString()+":"+n.substr(-2).toString()}},{key:"rand",value:function(e,a){return Math.round(Math.random()*(a-e)+e)}},{key:"wordDeclensionNumeric",value:function(e,a,t,n){return e%10===1&&(e%100<10||e%100>20)?a:e%10>1&&e%10<5&&(e%100<10||e%100>20)?t:n}},{key:"reduceNumber",value:function(e){return this.isNumeric(e)?e>=1e9?Math.floor(e/1e7)/100+"KKK":e>=1e6?Math.floor(e/1e4)/100+"KK":e>=1e3?Math.floor(e/10)/100+"K":e:null}},{key:"calcCloseData",value:function(e){var a=(new Date).getTime()/1e3;if(e<a)return"...";var t=e-a;return this.secondsToTextTimeout(t)}},{key:"secondsToTextTimeout",value:function(e){var a=Math.floor(e/86400);e-=86400*a;var t=Math.floor(e/3600);e-=3600*t;var n=Math.floor(e/60);return e-=60*n,(e=Math.round(e))>=60&&(n++,e=0),a>0?(n=0,e=0):t>0&&(e=0),((a>0?a+" \u0434. ":"")+(t>0?t+" \u0447. ":"")+(n>0?n+"  \u043c. ":"")+(e>0?e+"  \u0441. ":"")).trim()}},{key:"getClassicTimestamp",value:function(){return Math.round((new Date).getTime()/1e3)}},{key:"round",value:function(e,a){return parseFloat(parseFloat(e).toFixed(a))}},{key:"getTimeOutMinutes",value:function(e){var a=(new Date).getTime()/1e3;if(null==e||e<a)return"...";var t=e-a,n=Math.floor(t/60);return t-=60*n,(t=Math.round(t))>=60&&(n++,t=0),n+":"+("0"+t).substr(-2).toString()}}]),e}()).staticVar=[];t(331);var y=t.p+"static/media/logo.334b6fb1.svg",b=t(51),N=t.n(b),k=t(312);var w=function(){var e=Object(n.useState)({}),a=Object(m.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)(0),s=Object(m.a)(c,2),i=s[0],o=s[1],u=Object(n.useState)(0),d=Object(m.a)(u,2),v=d[0],g=d[1],h=Object(n.useState)(0),b=Object(m.a)(h,2),w=b[0],_=b[1],j=Object(n.useState)([]),O=Object(m.a)(j,2),M=O[0],S=O[1],x=Object(n.useState)(""),D=Object(m.a)(x,2),T=D[0],F=D[1],C=T?t.filter((function(e){return e.name.toLowerCase().includes(T.toLocaleLowerCase())})):t;function V(){return K.apply(this,arguments)}function K(){return(K=Object(f.a)(p.a.mark((function e(){var a,t,n,r,c,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.get("https://cdn.rage.mp/master/");case 2:for(a=e.sent,t=0,n=0,r=[],c=0,s=Object.keys(a.data);c<s.length;c++)i=s[c],r.push({players:a.data[i].players,maxplayers:a.data[i].maxplayers,peak:a.data[i].peak,ip:i,lang:a.data[i].lang,name:a.data[i].name.replace(/\[(\w+)\]/g,""),gamemode:a.data[i].gamemode,url:a.data[i].url.replace(/(^\w+:|^)\/\//,"")}),t+=a.data[i].players,n+=a.data[i].peak;r.sort((function(e,a){return a.players-e.players})),l(r),g(Object.keys(a.data).length),o(t),_(n);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){V(),setInterval((function(){return V()}),15e3)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bg"},r.a.createElement("div",{className:"bg__overlay"})),r.a.createElement("header",{className:"title-bar"},r.a.createElement("div",{className:"title-bar__logo"},r.a.createElement("a",{href:"https://rage.mp"}),r.a.createElement("img",{src:y}))),t.length>0?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"masterlist"},r.a.createElement("div",{className:"statistics"},r.a.createElement("div",{className:"data data--small"},r.a.createElement("small",null,"\u0421\u0435\u0440\u0432\u0435\u0440\u043e\u0432"),r.a.createElement(N.a,{className:"number",duration:1,separator:" ",end:v})),r.a.createElement("div",{className:"data data--large"},r.a.createElement("small",null,"\u041e\u043d\u043b\u0430\u0439\u043d \u043b\u044e\u0434\u0435\u0439"),r.a.createElement(N.a,{className:"number",duration:1,separator:" ",end:i})),r.a.createElement("div",{className:"data data--large"},r.a.createElement("small",null,"\u041f\u0438\u043a \u043b\u044e\u0434\u0435\u0439"),r.a.createElement(N.a,{className:"number",duration:1,separator:" ",end:w}))),r.a.createElement("div",{className:"card servers"},r.a.createElement("div",{className:"cell--header"},r.a.createElement("div",{className:"server server--header"},r.a.createElement("div",{className:"server__name cursor--normal"},r.a.createElement("form",{className:"search",onSubmit:function(e){return function(e){e.preventDefault()}(e)}},r.a.createElement("svg",{viewBox:"0 0 18 18",className:"icon--search"},r.a.createElement("circle",{cx:"8.4",cy:"7.8",r:"5.4",className:"stroke"}),r.a.createElement("line",{x1:"11.9",y1:"12",x2:"14.9",y2:"15.6",className:"stroke"})),r.a.createElement("input",{type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a",onChange:function(e){F(e.target.value)},value:T}))),r.a.createElement("div",{className:"server__gamemode cursor--normal"},"\u0420\u0435\u0436\u0438\u043c"),r.a.createElement("div",{className:"server__players cursor--normal"},"\u041e\u043d\u043b\u0430\u0439\u043d"))),C.length<1&&r.a.createElement("div",{className:"server server--empty"},r.a.createElement("h1",null,"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u0434\u043b\u044f ",T)),C.map((function(e){var a=e.name,t=e.gamemode,n=e.players,l=e.maxplayers,c=e.peak,s=e.url,i=e.ip,m=e.lang;return r.a.createElement("div",{className:"cell cell--item",onClick:function(){return function(e,a,t,n,r,l,c){S([{name:e,players:a,peak:t,gamemode:n,url:r,ip:l,lang:c}])}(a,n,c,t,s,i,m)}},r.a.createElement("div",{className:"server"},r.a.createElement("div",{className:"server__name"},r.a.createElement("div",{className:"flag-icon flag-icon-"+m}),r.a.createElement("h4",{className:"text text--truncate"},a)),r.a.createElement("div",{className:"server__gamemode"},t),r.a.createElement("div",{className:"server__players"},r.a.createElement("span",{"aria-label":n+"/"+l,"data-balloon-pos":"left"},r.a.createElement(N.a,{className:"number",duration:1,separator:" ",end:n})))))}))),M.length>0?r.a.createElement("div",{className:"modal",onClick:function(){S([])}},r.a.createElement("div",{className:"card modal__container card--"+M[0].gamemode},r.a.createElement("div",{className:"card__image card__image--large"},r.a.createElement("div",{className:"overlay"}),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"name"},r.a.createElement("small",null,M[0].gamemode),r.a.createElement("span",null,M[0].name)),r.a.createElement("div",{className:"items"},r.a.createElement("div",{className:"players"},r.a.createElement("small",null,"Online"),r.a.createElement("div",null,r.a.createElement("span",null,M[0].players))),r.a.createElement("div",{className:"players-peak"},r.a.createElement("small",null,"Peak"),r.a.createElement("div",null,r.a.createElement("span",null,M[0].peak)))))),r.a.createElement("div",{className:"card__content"},r.a.createElement("div",{className:"item"},r.a.createElement("div",{className:"graph__container graph"},r.a.createElement("div",{className:"canvas__container"},r.a.createElement("iframe",{className:"chartjs-hidden-iframe",tabIndex:"-1"}),r.a.createElement("canvas",{width:"385",height:"45"})),r.a.createElement("div",{className:"overlay"})),r.a.createElement("div",{className:"actions"},r.a.createElement("a",{target:"_blank",href:"rage://v/connect?ip="+M[0].ip,className:"button button--primary"},"Play game"),M[0].url&&r.a.createElement("a",{target:"_blank",href:"//"+M[0].url,className:"button"},"Visit website")))))):"")):r.a.createElement(E.a,null))},_=function(){var e=Object(n.useState)("home"),a=Object(m.a)(e,2),t=a[0],l=a[1];return r.a.createElement(d.a,{scheme:"space_gray"},r.a.createElement(u.a,{activeView:t},r.a.createElement(o.a,{id:"home",activePanel:"main"},r.a.createElement(w,{id:"main",go:function(e){window.history.pushState({panel:e},e),l(e),history.push(e)}}))))};i.a.send("VKWebAppInit"),c.a.render(r.a.createElement(_,null),document.getElementById("root"))}},[[340,1,2]]]);
//# sourceMappingURL=main.879d1cab.chunk.js.map